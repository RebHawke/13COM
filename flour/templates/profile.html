{% extends "_layout.html" %}
{% block content %}


<div class="container">
    <div class="row d-flex justify-content-center">
        <h1> Welcome {{name}} </h1>
    </div>
    <div class="row d-flex justify-content-center mt-4">
        <div class="col-md-6">
            <div class="row">
                <div class="col-12 top-box">
                    <h2>Your Details:</h2>
                    <p> Name: {{name}} </p>
                    <p> Username: {{username}} </p>
                    <p> Email: {{email}} </p>
                    <p> Skill: {{skill}} </p>

                </div>
            </div>
            <div class="row">
                <div class="col-12 bottom-box">
                    {% if session.get("role") == "admin"%}
                        <a class="btn btn-outline-primary log-out-button mb-1" href="/users" role="button">Users</a>
                    {% endif %}
                    <a class="btn btn-outline-primary log-out-button mb-1" role="button" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Update Details</a>

                    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="staticBackdropLabel">Change your details!</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form action="/account/edit" method="POST" id="edit">
                                    <table>
                                        <tr>
                                            <th>Name:</th>
                                            <td><input type="text" name="name" maxlength="255" placeholder="{{name}}"></td>
                                            
                                        </tr>
                                        <tr>
                                            <th>Username:</th>
                                            <td><input type="text" name="name" maxlength="255" placeholder="{{username}}"></td>
                                            
                                        </tr>
                                        <tr>
                                            <th>Email:</th>
                                            <td><input type="text" name="name" maxlength="255" placeholder="{{email}}"></td>
                                            
                                        </tr>
                                        <tr>
                                            <th>Skill:</th>
                                            <td><select name="skill" id="skill">
                                                <option value="empty" selected disabled hidden>Choose Here</option>
                                                <option value="beginner">Beginner</option>
                                                <option value="intermediate">Intermediate</option>
                                                <option value="advanced">Advanced</option>
                                                <option value="any">N/A</option>
                                                </select>
                                            </td>
                                            
                                        </tr>
                                    </table>
                                </form>
                            </div>
                            <div class="modal-footer d-flex justify-content-between">
                                
                                <button type="button" class="btn btn-danger" data-bs-toggle="collapse" data-bs-target="#confirmdelete" onclick="this.style.display='none';">
                                    DELETE ACCOUNT
                                </button>

                                <div id="confirmdelete" class="collapse">
                                    <p>Are you sure you want to delete your account? This action cannot be undone.</p>
                                    <form action="/account/delete" method="POST">
                                        <button type="submit" class="btn btn-danger">Confirm Delete</button>
                                    </form>
                                    <button type="button" class="btn btn-secondary" data-bs-toggle="collapse" data-bs-target="#confirmdelete">
                                        Cancel
                                    </button>
                                </div>

                                

                                
                                <div>
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" class="btn btn-primary" form="edit">Submit</button>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>

                    <a class="btn btn-outline-primary log-out-button mb-1" href="/logout" role="button">Log Out</a>
                    {# suggested recipes? #}
                </div>
            </div>
        </div>
        <div class="col-md-6 liked-box">
            <h1 class="p-5">Your Liked Recipes</h1>
        </div>
    </div>
</div>

{% endblock %}